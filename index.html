<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抽奖系统 - 2026年度抽奖盛典</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <canvas id="particles"></canvas>
    
    <div class="container">
        <header class="header">
            <div class="logo-container">
                <div class="logo-glow"></div>
                <h1 class="title">
                    <span class="title-text">2026年度抽奖盛典</span>
                    <span class="title-sub">LUCKY DRAW</span>
                </h1>
            </div>
        </header>

        <main class="main-content">
            <section class="prizes-section">
                <div class="section-header">
                    <h2><span class="icon">🎁</span> 奖品展示</h2>
                </div>
                <div class="prizes-grid" id="prizesGrid"></div>
            </section>

            <section class="lottery-section">
                <div class="lottery-machine">
                    <div class="machine-top">
                        <div class="light-strip">
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                        </div>
                    </div>
                    
                    <div class="display-screen">
                        <div class="screen-inner" id="displayScreen">
                            <div class="waiting-text">准备抽奖</div>
                        </div>
                    </div>

                    <div class="prize-selector">
                        <label for="prizeSelect">选择奖项：</label>
                        <select id="prizeSelect" class="prize-select"></select>
                        <span class="remaining" id="remainingCount">剩余: 0</span>
                    </div>

                    <div class="draw-count-selector">
                        <label for="drawCount">抽取人数：</label>
                        <div class="count-input-group">
                            <button class="count-btn minus" id="countMinus">−</button>
                            <input type="number" id="drawCount" class="draw-count-input" value="1" min="1" max="10">
                            <button class="count-btn plus" id="countPlus">+</button>
                        </div>
                        <span class="count-hint">人</span>
                    </div>

                    <button class="draw-button" id="drawButton">
                        <span class="button-text">开始抽奖</span>
                        <span class="button-glow"></span>
                    </button>

                    <div class="machine-base">
                        <div class="base-decoration"></div>
                    </div>
                </div>

                <div class="current-winner" id="currentWinner">
                    <div class="winner-card hidden">
                        <div class="confetti-container"></div>
                        <div class="winner-content">
                            <div class="winner-badge">🎉 恭喜中奖 🎉</div>
                            <div class="winners-display" id="winnersDisplay">
                                <!-- 多人中奖名单将由JS动态生成 -->
                            </div>
                            <div class="winner-prize" id="winnerPrize"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="winners-section">
                <div class="section-header">
                    <h2><span class="icon">🏆</span> 中奖名单</h2>
                </div>
                <div class="winners-list" id="winnersList">
                    <div class="empty-list">暂无中奖记录</div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="participants-info">
                <span class="info-item">
                    <span class="info-icon">👥</span>
                    参与人数: <strong id="totalParticipants">0</strong>
                </span>
                <span class="info-item">
                    <span class="info-icon">✨</span>
                    剩余人数: <strong id="remainingParticipants">0</strong>
                </span>
                <span class="info-item">
                    <span class="info-icon">🎯</span>
                    已中奖: <strong id="winnersCount">0</strong>
                </span>
            </div>
            <button class="reset-button" id="resetButton">
                <span>🔄</span> 重置抽奖
            </button>
        </footer>
    </div>

    <div class="celebration-overlay" id="celebrationOverlay">
        <div class="celebration-content">
            <div class="big-winner-card">
                <div class="sparkle-ring"></div>
                <div class="winner-avatar" id="bigWinnerAvatar">🎊</div>
                <div class="winner-details">
                    <div class="congrats-text">恭喜</div>
                    <div class="big-winners-list" id="bigWinnersList">
                        <!-- 多人大奖名单将由JS动态生成 -->
                    </div>
                    <div class="prize-won">
                        <span>获得</span>
                        <span class="prize-name" id="bigPrizeName"></span>
                    </div>
                </div>
                
                <!-- AI歌曲播放区 -->
                <div class="song-section" id="songSection">
                    <div class="song-status" id="songStatus">
                        <span class="status-icon">🎵</span>
                        <span class="status-text">准备生成祝贺歌曲...</span>
                    </div>
                    <div class="song-lyrics" id="songLyrics"></div>
                    <div class="song-controls">
                        <button class="song-btn play-btn" id="playSongBtn" disabled>
                            <span class="btn-icon">▶</span>
                            <span class="btn-text">播放歌曲</span>
                        </button>
                        <button class="song-btn stop-btn" id="stopSongBtn" style="display: none;">
                            <span class="btn-icon">⏹</span>
                            <span class="btn-text">停止</span>
                        </button>
                        <button class="song-btn regenerate-btn" id="regenerateSongBtn" disabled>
                            <span class="btn-icon">🔄</span>
                            <span class="btn-text">换一首</span>
                        </button>
                    </div>
                </div>
                
                <button class="close-celebration" id="closeCelebration">确认</button>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="ai-song.js"></script>
    <script src="app.js"></script>
</body>
</html>
