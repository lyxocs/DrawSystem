<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新年抽奖盛典 - 2026</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 粒子背景 -->
    <canvas id="particles"></canvas>
    
    <!-- 新年装饰元素 -->
    <div class="festive-decorations">
        <!-- 灯笼 -->
        <div class="lantern lantern-left-1">🏮</div>
        <div class="lantern lantern-left-2">🏮</div>
        <div class="lantern lantern-right-1">🏮</div>
        <div class="lantern lantern-right-2">🏮</div>
        
        <!-- 烟花 -->
        <div class="firework firework-1">🎆</div>
        <div class="firework firework-2">🎇</div>
        <div class="firework firework-3">✨</div>
        <div class="firework firework-4">🎆</div>
        <div class="firework firework-5">🎇</div>
        
        <!-- 红包雨 -->
        <div class="hongbao hongbao-1">🧧</div>
        <div class="hongbao hongbao-2">🧧</div>
        <div class="hongbao hongbao-3">🧧</div>
        <div class="hongbao hongbao-4">🧧</div>
        <div class="hongbao hongbao-5">🧧</div>
        <div class="hongbao hongbao-6">🧧</div>
        
        <!-- 金币 -->
        <div class="gold-coin coin-1">🪙</div>
        <div class="gold-coin coin-2">🪙</div>
        <div class="gold-coin coin-3">🪙</div>
        
        <!-- 边框装饰 -->
        <div class="border-decor border-top"></div>
        <div class="border-decor border-bottom"></div>
    </div>
    
    <div class="container">
        <!-- 头部标题区 -->
        <header class="header">
            <div class="logo-container">
                <div class="logo-glow"></div>
                <div class="fortune-text">🧧 福 🧧</div>
                <h1 class="title">
                    <span class="title-text">2026 新年抽奖盛典</span>
                    <span class="title-sub">LUCKY DRAW · 蛇年大吉</span>
                </h1>
            </div>
        </header>

        <!-- 主内容区 - 仅保留抽奖区 -->
        <main class="main-content centered">
            <section class="lottery-section">
                <div class="lottery-machine">
                    <div class="machine-top">
                        <div class="light-strip">
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                            <span class="light"></span>
                        </div>
                    </div>
                    
                    <div class="display-screen">
                        <div class="screen-inner" id="displayScreen">
                            <div class="waiting-text">🎊 恭喜发财 🎊</div>
                        </div>
                    </div>

                    <div class="prize-selector">
                        <label for="prizeSelect">🎁 选择奖项：</label>
                        <select id="prizeSelect" class="prize-select"></select>
                        <span class="remaining" id="remainingCount">剩余: 0</span>
                    </div>

                    <div class="draw-count-selector">
                        <label for="drawCount">👥 抽取人数：</label>
                        <div class="count-input-group">
                            <button class="count-btn minus" id="countMinus">−</button>
                            <input type="number" id="drawCount" class="draw-count-input" value="1" min="1" max="10">
                            <button class="count-btn plus" id="countPlus">+</button>
                        </div>
                        <span class="count-hint">人</span>
                    </div>

                    <button class="draw-button" id="drawButton">
                        <span class="button-text">🎰 开始抽奖</span>
                        <span class="button-glow"></span>
                    </button>

                    <div class="machine-base">
                        <div class="base-decoration"></div>
                    </div>
                </div>

                <!-- 中奖展示区 -->
                <div class="current-winner" id="currentWinner">
                    <div class="winner-card hidden">
                        <div class="confetti-container"></div>
                        <div class="winner-content">
                            <div class="winner-badge">🧧 恭喜发财 大吉大利 🧧</div>
                            <div class="winners-display" id="winnersDisplay"></div>
                            <div class="winner-prize" id="winnerPrize"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 底部信息栏 -->
        <footer class="footer">
            <div class="participants-info">
                <span class="info-item">
                    <span class="info-icon">👥</span>
                    参与人数: <strong id="totalParticipants">0</strong>
                </span>
                <span class="info-item">
                    <span class="info-icon">✨</span>
                    剩余人数: <strong id="remainingParticipants">0</strong>
                </span>
                <span class="info-item">
                    <span class="info-icon">🏆</span>
                    已中奖: <strong id="winnersCount">0</strong>
                </span>
            </div>
            <button class="reset-button" id="resetButton">
                <span>🔄</span> 重置抽奖
            </button>
        </footer>
    </div>

    <!-- 隐藏的奖品和中奖列表容器(保持JS兼容) -->
    <div id="prizesGrid" style="display:none;"></div>
    <div id="winnersList" style="display:none;"></div>

    <!-- 全屏中奖特效层 -->
    <div class="celebration-overlay" id="celebrationOverlay">
        <div class="celebration-content">
            <div class="big-winner-card">
                <div class="sparkle-ring"></div>
                <div class="winner-avatar" id="bigWinnerAvatar">🧧</div>
                <div class="winner-details">
                    <div class="congrats-text">🎊 恭喜发财 🎊</div>
                    <div class="big-winners-list" id="bigWinnersList"></div>
                    <div class="prize-won">
                        <span>喜获</span>
                        <span class="prize-name" id="bigPrizeName"></span>
                    </div>
                </div>
                
                <!-- AI歌曲播放区 -->
                <div class="song-section" id="songSection">
                    <div class="song-status" id="songStatus">
                        <span class="status-icon">🎵</span>
                        <span class="status-text">准备生成祝贺歌曲...</span>
                    </div>
                    <div class="song-lyrics" id="songLyrics"></div>
                    <div class="song-controls">
                        <button class="song-btn play-btn" id="playSongBtn" disabled>
                            <span class="btn-icon">▶</span>
                            <span class="btn-text">播放歌曲</span>
                        </button>
                        <button class="song-btn stop-btn" id="stopSongBtn" style="display: none;">
                            <span class="btn-icon">⏹</span>
                            <span class="btn-text">停止</span>
                        </button>
                        <button class="song-btn regenerate-btn" id="regenerateSongBtn" disabled>
                            <span class="btn-icon">🔄</span>
                            <span class="btn-text">换一首</span>
                        </button>
                    </div>
                </div>
                
                <button class="close-celebration" id="closeCelebration">🎉 太棒了</button>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="ai-song.js"></script>
    <script src="app.js"></script>
</body>
</html>
